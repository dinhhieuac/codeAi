update 23/02/2026
1.Nguyên nhân win rate tệ (tóm tắt)
Breakeven 10 pip quá sớm (ảnh hưởng lớn nhất)
Với XAU: SL thường ~23 pip, TP ~46 pip (2×SL). Breakeven ở 10 pip = chỉ ~22% quãng tới TP. Giá đi 10 pip → bot dời SL về entry → giá hồi → chạm SL (entry) → đóng 0. Nhiều lệnh “gần thắng” bị biến thành breakeven, không có cơ hội chạm TP → 0% win.

2.TP = 2×SL khó đạt trên M1
Cần ~46 pip; trên M1 XAU hay đi 15–25 pip rồi điều chỉnh → ít lệnh chạm TP.

3.Re-entry dày
Ví dụ 17 Feb: 7 lệnh SELL trong ~15 phút. Lệnh đóng (0 hoặc lỗ) → nến sau vẫn thỏa điều kiện → vào lại nhiều lần trong cùng vùng → dễ chuỗi lỗ/breakeven.

4.False break trên M1
Phá trendline M1 dễ nhiễu → chất lượng entry không cao.

Đã làm trong code
utils.py: Breakeven không còn hard-code 10 pip; dùng config.get('breakeven_trigger_pips', 10.0).
config_tuyen_xau.json: Thêm breakeven_trigger_pips: 22 (và comment). XAU sẽ chỉ dời SL về entry khi lãi > 22 pip (gần nửa quãng tới TP), giảm “ăn lại” lệnh quá sớm.
Báo cáo chi tiết (số liệu, ví dụ lệnh, đề xuất thêm): result/WIN_RATE_ANALYSIS_XAU.md.
Gợi ý test: Chạy bot XAU với breakeven_trigger_pips: 22 (hoặc 25) vài chục lệnh, so sánh số lệnh chạm TP và tổng P/L với trước. Nếu vẫn tệ có thể thử tắt breakeven (enable_breakeven: false) hoặc thêm cooldown sau khi đóng lệnh (như trong file phân tích)